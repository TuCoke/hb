# 文件上传系统


## 服务端后端框架搭建集成
1. DI:AutoFac
2. ORM:SqlSugar
3. Cache:Redis
4. Log:Nlog
5. 程序中服务类重新封装，通用组件调整

## 账号管理
1. 机构管理
2. 部门管理
3. 平台管理
4. 账号管理 


## 权限管理
1. 登录端管理，区分客户端、服务端
2. 根据角色权限展示不同页面

## 基础数据同步
1. 机构同步
2. 科室信息同步
3. 账号同步

## 客户端相关接口
1. 登录接口
2. 文件上传信息接口
3. 客户端健康检查接口
4. 客户端异常信息接口

## AI中台对接
1. 上传信息同步，包含无关联关系 (根据条码号和样本号)
2. AI中台手动绑定关联关系信息反同

# 客户端
## 文件监控
1. 利用文件系统事件（如inotify/FileSystemWatcher）实现实时监控，同时配合定时扫描确保遗漏文件捕捉
2. 记录下事件详细信息，在配置的执行时间段异步处理 

## 流程逻辑
> 1.客户端使用Winform + AntdUI, 客户端登录
> ![1](https://github.com/user-attachments/assets/0a513214-1734-4736-9ab3-af1edb8a5773)
> 目的为了解决不同平台下,不同大小组,分别上次文件绑定到不同oss地址, (机构下有平台,平台绑定大小组和对应桶,)
> 客户端在上传配置的时候进行配置,例如(勾选大小组后配置大小组下对应的桶信息,)


> 2.服务端,

# 仪器接口

## 携光网口通讯
### 通过tcp网口通讯获取设备发过来的 条码号,或者 接收编号 ,通过http接口发送给iris系统,(通过base64 编码)
