"use strict";(self.webpackChunkhb=self.webpackChunkhb||[]).push([[681],{9580:(a,s,n)=>{n.r(s),n.d(s,{comp:()=>r,data:()=>t});var e=n(641);const l=n.p+"assets/img/mermaid-2.0ff683f1.png",i={},r=(0,n(6262).A)(i,[["render",function(a,s){return(0,e.uX)(),(0,e.CE)("div",null,s[0]||(s[0]=[(0,e.Fv)('<h2 id="🚀-云盘搜索" tabindex="-1"><a class="header-anchor" href="#🚀-云盘搜索"><span>🚀 云盘搜索</span></a></h2><ul><li>1️⃣使用NET8、Mysql、Elasticsearch、Hangfire、redis、Mediator中介者、RabbitMQ(暂时取消)</li><li>2️⃣ <a href="https://github.com/hu17889/go_spider" target="_blank" rel="noopener noreferrer">爬虫框架https://github.com/hu17889/go_spider</a></li><li>3️⃣地址 <a href="https://yuyu.api-y.cn" target="_blank" rel="noopener noreferrer">项目地址：https://yuyu.api-y.cn/</a></li></ul><h2 id="📋-项目概述" tabindex="-1"><a class="header-anchor" href="#📋-项目概述"><span>📋 项目概述</span></a></h2><blockquote><p>本项目是一个基于 Go 语言开发的云盘搜索系统，使用 go_spider 框架进行数据爬取，结合 .NET 8 后端服务进行数据处理和验证。系统支持断点续爬功能，确保数据爬取的连续性和完整性。通过浏览器插件实现自动化数据采集和配置管理。</p></blockquote><h2 id="🛠️-技术架构" tabindex="-1"><a class="header-anchor" href="#🛠️-技术架构"><span>🛠️ 技术架构</span></a></h2><ul><li>🕷️ 爬虫框架：go_spider (https://github.com/hu17889/go_spider)</li><li>⚡ 后端服务：.NET8、Mysql、Elasticsearch、Hangfire、redis、Mediator中介者、(RabbitMQ 一致性要求不高 取消掉了 暂时使用redis)</li><li>💾 数据存储：MySQL + Redis</li><li>🔧 开发语言：Go + C#</li><li>🌐 浏览器插件：Chrome Extension</li></ul><h2 id="🔄-系统流程" tabindex="-1"><a class="header-anchor" href="#🔄-系统流程"><span>🔄 系统流程</span></a></h2><h3 id="_1️⃣-浏览器插件功能" tabindex="-1"><a class="header-anchor" href="#_1️⃣-浏览器插件功能"><span>1️⃣ 浏览器插件功能</span></a></h3><ol><li>🔍 自动采集功能： <ul><li>📝 自动收集当前页面的 URL （多种类型的bbs、例如discuz、wordpress、flarum、等 自动根据发送选择的类型到爬虫端 进行解析）</li><li>🔑 获取网站 Token</li><li>🍪 获取网站 Cookie</li><li>🌐 识别网站类型</li></ul></li><li>⚙️ 配置管理： <ul><li>🔄 代理设置开关</li><li>🎯 爬取目标配置</li><li>⏰ 定时任务设置</li></ul></li><li>📡 数据开始： <ul><li>🔄 实时同步到 Go 爬虫服务</li><li>📊 状态监控和反馈</li></ul></li></ol><h3 id="_2️⃣-数据爬取流程" tabindex="-1"><a class="header-anchor" href="#_2️⃣-数据爬取流程"><span>2️⃣ 数据爬取流程</span></a></h3><ol><li>🕷️ 使用 go_spider 框架爬取目标网站数据 (支持 cookie token 等验证)</li><li>📍 支持断点续爬功能： <ul><li>📝 记录上次爬取位置</li><li>💾 保存爬取进度</li><li>🔄 支持任务中断恢复</li></ul></li><li>🔍 提取关键信息：数据ID、URL、文章标题</li><li>🔐 生成唯一标识 HashID</li><li>🧹 数据清洗和格式化</li></ol><h3 id="_3️⃣-数据存储流程" tabindex="-1"><a class="header-anchor" href="#_3️⃣-数据存储流程"><span>3️⃣ 数据存储流程</span></a></h3><ol><li>🔍 根据 HashID 判断数据是新增还是更新</li><li>💾 批量写入 MySQL 数据库</li><li>🔄 将数据写入 Redis 队列</li><li>📡 发送 redis Publish Subscribe 通知到 .NET 8 后端服务 去执行任务</li></ol><h3 id="_4️⃣-数据验证流程" tabindex="-1"><a class="header-anchor" href="#_4️⃣-数据验证流程"><span>4️⃣ 数据验证流程</span></a></h3><ol><li>🔄 .NET 8 后端服务消费 Redis 队列数据</li><li>✅ 根据数据类型进行 URL 有效性验证</li><li>📊 更新数据状态（有效/无效）</li><li>⏰ 定时任务验证 URL 有效性 定时分批同步到Elasticsearch 中</li></ol><h3 id="_5️-搜索限制" tabindex="-1"><a class="header-anchor" href="#_5️-搜索限制"><span>5️ 搜索限制</span></a></h3><ol><li>使用中间件对中间件对用户进行</li></ol><h2 id="📊-流程图" tabindex="-1"><a class="header-anchor" href="#📊-流程图"><span>📊 流程图</span></a></h2><p><img src="'+l+'" alt="alt text"></p><div class="language-mermaid line-numbers-mode" data-highlighter="prismjs" data-ext="mermaid"><pre><code><span class="line"><span class="token keyword">graph</span> LR</span>\n<span class="line">    A<span class="token text string">[🌐 浏览器插件]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[📡 发送配置数据]</span></span>\n<span class="line">    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[⏰ Cron定时任务]</span></span>\n<span class="line">    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">[🚀 开始爬取]</span></span>\n<span class="line">    D <span class="token arrow operator">--&gt;</span> E<span class="token text string">[📝 检查断点记录]</span></span>\n<span class="line">    E <span class="token arrow operator">--&gt;</span> F<span class="token text string">{❓ 是否存在断点}</span></span>\n<span class="line">    F <span class="token arrow operator">--&gt;</span><span class="token label property">|✅ 是|</span> G<span class="token text string">[🔄 从断点继续爬取]</span></span>\n<span class="line">    F <span class="token arrow operator">--&gt;</span><span class="token label property">|❌ 否|</span> H<span class="token text string">[🕷️ go_spider爬虫]</span></span>\n<span class="line">    G <span class="token arrow operator">--&gt;</span> I<span class="token text string">[🔍 数据提取]</span></span>\n<span class="line">    H <span class="token arrow operator">--&gt;</span> I</span>\n<span class="line">    I <span class="token arrow operator">--&gt;</span> J<span class="token text string">[🔐 生成HashID]</span></span>\n<span class="line">    J <span class="token arrow operator">--&gt;</span> K<span class="token text string">{📊 数据判断}</span></span>\n<span class="line">    K <span class="token arrow operator">--&gt;</span><span class="token label property">|➕ 新增|</span> L<span class="token text string">[💾 MySQL写入]</span></span>\n<span class="line">    K <span class="token arrow operator">--&gt;</span><span class="token label property">|🔄 更新|</span> M<span class="token text string">[📝 MySQL更新]</span></span>\n<span class="line">    L <span class="token arrow operator">--&gt;</span> N<span class="token text string">[🔄 Redis写入]</span></span>\n<span class="line">    M <span class="token arrow operator">--&gt;</span> N</span>\n<span class="line">    N <span class="token arrow operator">--&gt;</span> O<span class="token text string">[📡 通知.NET服务]</span></span>\n<span class="line">    O <span class="token arrow operator">--&gt;</span> P<span class="token text string">[🔄 消费Redis数据]</span></span>\n<span class="line">    P <span class="token arrow operator">--&gt;</span> Q<span class="token text string">[✅ URL验证]</span></span>\n<span class="line">    Q <span class="token arrow operator">--&gt;</span> R<span class="token text string">{🔍 URL是否有效}</span></span>\n<span class="line">    R <span class="token arrow operator">--&gt;</span><span class="token label property">|✅ 有效|</span> S<span class="token text string">[📊 更新状态]</span></span>\n<span class="line">    R <span class="token arrow operator">--&gt;</span><span class="token label property">|❌ 无效|</span> T<span class="token text string">[❌ 标记无效]</span></span>\n<span class="line">    S <span class="token arrow operator">--&gt;</span> U<span class="token text string">[⏰ 定时验证]</span></span>\n<span class="line">    T <span class="token arrow operator">--&gt;</span> U</span>\n<span class="line">    U <span class="token arrow operator">--&gt;</span> V<span class="token text string">{⏰ 是否到达验证时间}</span></span>\n<span class="line">    V <span class="token arrow operator">--&gt;</span><span class="token label property">|✅ 是|</span> Q</span>\n<span class="line">    V <span class="token arrow operator">--&gt;</span><span class="token label property">|❌ 否|</span> W<span class="token text string">[⏳ 等待下次验证]</span></span>\n<span class="line">    W <span class="token arrow operator">--&gt;</span> V</span>\n<span class="line">    I <span class="token arrow operator">--&gt;</span> X<span class="token text string">[💾 保存断点记录]</span></span>\n<span class="line">    X <span class="token arrow operator">--&gt;</span> Y<span class="token text string">[⏰ 定时保存进度]</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="🔑-关键功能说明" tabindex="-1"><a class="header-anchor" href="#🔑-关键功能说明"><span>🔑 关键功能说明</span></a></h2><h3 id="_1️⃣-浏览器插件功能-1" tabindex="-1"><a class="header-anchor" href="#_1️⃣-浏览器插件功能-1"><span>1️⃣ 浏览器插件功能</span></a></h3><ul><li>🌐 自动采集网站数据</li><li>🔑 管理认证信息</li><li>⚙️ 配置爬取参数</li><li>📡 实时数据同步</li></ul><h3 id="_2️⃣-定时任务" tabindex="-1"><a class="header-anchor" href="#_2️⃣-定时任务"><span>2️⃣ 定时任务</span></a></h3><ul><li>⏰ 使用 Cron 表达式配置爬虫执行时间</li><li>🔄 支持灵活的任务调度策略</li><li>📅 可配置多个时间点执行</li></ul><h3 id="_3️⃣-断点续爬功能" tabindex="-1"><a class="header-anchor" href="#_3️⃣-断点续爬功能"><span>3️⃣ 断点续爬功能</span></a></h3><ul><li>🔄 支持任务中断恢复</li><li>📝 记录爬取进度和位置</li><li>💾 定时保存断点信息</li><li>⚡ 支持多任务并行爬取</li><li>🔒 确保数据爬取的连续性</li></ul><h3 id="_4️⃣-hashid-生成" tabindex="-1"><a class="header-anchor" href="#_4️⃣-hashid-生成"><span>4️⃣ HashID 生成</span></a></h3><ul><li>🔐 基于数据ID、URL、文章标题生成唯一标识</li><li>🔑 使用加密算法生成短字符串</li><li>📊 用于判断数据是新增还是更新</li><li>🔒 保证数据的唯一性和可追踪性</li></ul><h3 id="_5️⃣-数据存储" tabindex="-1"><a class="header-anchor" href="#_5️⃣-数据存储"><span>5️⃣ 数据存储</span></a></h3><ul><li>💾 MySQL：存储完整数据</li><li>🔄 Redis：存储待处理数据队列</li></ul><h3 id="_6️⃣-url-验证" tabindex="-1"><a class="header-anchor" href="#_6️⃣-url-验证"><span>6️⃣ URL 验证</span></a></h3><ul><li>✅ 实时验证：数据入库时进行验证</li><li>⏰ 定时验证：每天定时检查 URL 有效性</li></ul><h2 id="🚀-部署要求" tabindex="-1"><a class="header-anchor" href="#🚀-部署要求"><span>🚀 部署要求</span></a></h2><ol><li>🔧 Go 环境配置</li><li>⚡ .NET 8 运行环境</li><li>💾 MySQL 数据库</li><li>🔄 Redis 服务</li><li>🌐 Chrome 浏览器</li></ol>',35)]))}]]),t=JSON.parse('{"path":"/other/yupan/","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"🚀 云盘搜索","slug":"🚀-云盘搜索","link":"#🚀-云盘搜索","children":[]},{"level":2,"title":"📋 项目概述","slug":"📋-项目概述","link":"#📋-项目概述","children":[]},{"level":2,"title":"🛠️ 技术架构","slug":"🛠️-技术架构","link":"#🛠️-技术架构","children":[]},{"level":2,"title":"🔄 系统流程","slug":"🔄-系统流程","link":"#🔄-系统流程","children":[{"level":3,"title":"1️⃣ 浏览器插件功能","slug":"_1️⃣-浏览器插件功能","link":"#_1️⃣-浏览器插件功能","children":[]},{"level":3,"title":"2️⃣ 数据爬取流程","slug":"_2️⃣-数据爬取流程","link":"#_2️⃣-数据爬取流程","children":[]},{"level":3,"title":"3️⃣ 数据存储流程","slug":"_3️⃣-数据存储流程","link":"#_3️⃣-数据存储流程","children":[]},{"level":3,"title":"4️⃣ 数据验证流程","slug":"_4️⃣-数据验证流程","link":"#_4️⃣-数据验证流程","children":[]},{"level":3,"title":"5️ 搜索限制","slug":"_5️-搜索限制","link":"#_5️-搜索限制","children":[]}]},{"level":2,"title":"📊 流程图","slug":"📊-流程图","link":"#📊-流程图","children":[]},{"level":2,"title":"🔑 关键功能说明","slug":"🔑-关键功能说明","link":"#🔑-关键功能说明","children":[{"level":3,"title":"1️⃣ 浏览器插件功能","slug":"_1️⃣-浏览器插件功能-1","link":"#_1️⃣-浏览器插件功能-1","children":[]},{"level":3,"title":"2️⃣ 定时任务","slug":"_2️⃣-定时任务","link":"#_2️⃣-定时任务","children":[]},{"level":3,"title":"3️⃣ 断点续爬功能","slug":"_3️⃣-断点续爬功能","link":"#_3️⃣-断点续爬功能","children":[]},{"level":3,"title":"4️⃣ HashID 生成","slug":"_4️⃣-hashid-生成","link":"#_4️⃣-hashid-生成","children":[]},{"level":3,"title":"5️⃣ 数据存储","slug":"_5️⃣-数据存储","link":"#_5️⃣-数据存储","children":[]},{"level":3,"title":"6️⃣ URL 验证","slug":"_6️⃣-url-验证","link":"#_6️⃣-url-验证","children":[]}]},{"level":2,"title":"🚀 部署要求","slug":"🚀-部署要求","link":"#🚀-部署要求","children":[]}],"git":{"updatedTime":1748682663000,"contributors":[{"name":"Bo-Hong","username":"Bo-Hong","email":"2764136779@qq.com","commits":14,"url":"https://github.com/Bo-Hong"}],"changelog":[{"hash":"73e777155bc1df369005d6101662984fdddcf857","time":1748682663000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并"},{"hash":"e1c36f9db1561a095efc2aa835d870b968ed2772","time":1748617797000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"鱼鱼助手md"},{"hash":"a9857cb9fe832fdee661af81ca7938dd1da5bffb","time":1748616120000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"标头合并"},{"hash":"c25b288ecfb4827df29a72212e0073f7f6620dbd","time":1748615854000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"鱼鱼助手"},{"hash":"f6167e1a1971f43b44d8ce4c7e994e30d1a7340c","time":1748597505000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并md"},{"hash":"0aa1bd447f8a09fb064b8ad6282a1df10f52dd74","time":1748581097000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"云盘"},{"hash":"c76c78b5a90c2934149ce8947910af8c792f1292","time":1748578517000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"云盘介绍"},{"hash":"1f05cc2ceec2c5576cc12c3c569dafc8691ba86b","time":1748521783000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并"},{"hash":"33b3b24647c686197249bdd8e65d5fc10d91f2b9","time":1748510894000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并路径"},{"hash":"281908f7b47ad5fa12b0ad0bc611c92965783239","time":1748510541000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并问题"},{"hash":"1cdb539d12c34e8ab5dbc935ec8d4b0e45b28139","time":1748510182000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"链接跳转"},{"hash":"bc6c5b47692f28e60b98da4a99e6de41067ece89","time":1748509701000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并推送"},{"hash":"d30a92697c5345a0f23b700fea7f3977fc2795ca","time":1748499091000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"咸鱼助手"},{"hash":"af7eb058337ef80436e87191a5bee1505a87c495","time":1748261146000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"鱼鱼助手和权限模型"}]},"filePathRelative":"other/yupan/README.md"}')}}]);