"use strict";(self.webpackChunkhb=self.webpackChunkhb||[]).push([[307],{9248:(a,s,n)=>{n.r(s),n.d(s,{comp:()=>t,data:()=>r});var l=n(641);const e=n.p+"assets/img/mermaid-2.93f9a865.png",i={},t=(0,n(6262).A)(i,[["render",function(a,s){const n=(0,l.g2)("RouteLink");return(0,l.uX)(),(0,l.CE)("div",null,[s[5]||(s[5]=(0,l.Lk)("h1",{id:"demo",tabindex:"-1"},[(0,l.Lk)("a",{class:"header-anchor",href:"#demo"},[(0,l.Lk)("span",null,"demo")])],-1)),(0,l.Lk)("table",null,[s[4]||(s[4]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"项目"),(0,l.Lk)("th",null,"描述"),(0,l.Lk)("th",null,"地址")])],-1)),(0,l.Lk)("tbody",null,[(0,l.Lk)("tr",null,[s[1]||(s[1]=(0,l.Lk)("td",null,"鱼鱼助手",-1)),(0,l.Lk)("td",null,[(0,l.bF)(n,{to:"/docs/other/auto/"},{default:(0,l.k6)((()=>s[0]||(s[0]=[(0,l.eW)("脚本助手")]))),_:1,__:[0]})]),s[2]||(s[2]=(0,l.Lk)("td",null,"https://api-y.cn",-1))]),s[3]||(s[3]=(0,l.Lk)("tr",null,[(0,l.Lk)("td",null,"云盘搜索"),(0,l.Lk)("td",null,"云盘搜索"),(0,l.Lk)("td",null,"https://yuyu.api-y.cn")],-1))])]),s[6]||(s[6]=(0,l.Fv)('<h2 id="云盘搜索" tabindex="-1"><a class="header-anchor" href="#云盘搜索"><span>云盘搜索</span></a></h2><ul><li>使用NET8、Mysql、Elasticsearch、Hangfire、redis、Mediator中介者、RabbitMQ(暂时取消)</li><li>https://github.com/hu17889/go_spider</li></ul><h1 id="云盘搜索项目技术文档" tabindex="-1"><a class="header-anchor" href="#云盘搜索项目技术文档"><span>云盘搜索项目技术文档</span></a></h1><h2 id="项目概述" tabindex="-1"><a class="header-anchor" href="#项目概述"><span>项目概述</span></a></h2><p>本项目是一个基于 Go 语言开发的云盘搜索系统，使用 go_spider 框架进行数据爬取，结合 .NET 8 后端服务进行数据处理和验证。系统支持断点续爬功能，确保数据爬取的连续性和完整性。</p><h2 id="技术架构" tabindex="-1"><a class="header-anchor" href="#技术架构"><span>技术架构</span></a></h2><ul><li>爬虫框架：go_spider (https://github.com/hu17889/go_spider)</li><li>后端服务：.NET 8</li><li>数据存储：MySQL + Redis</li><li>开发语言：Go + C#</li></ul><h2 id="系统流程" tabindex="-1"><a class="header-anchor" href="#系统流程"><span>系统流程</span></a></h2><h3 id="_1-数据爬取流程" tabindex="-1"><a class="header-anchor" href="#_1-数据爬取流程"><span>1. 数据爬取流程</span></a></h3><ol><li>使用 go_spider 框架爬取目标网站数据</li><li>支持断点续爬功能： <ul><li>记录上次爬取位置</li><li>保存爬取进度</li><li>支持任务中断恢复</li></ul></li><li>提取关键信息：数据ID、URL、文章标题</li><li>生成唯一标识 HashID</li><li>数据清洗和格式化</li></ol><h3 id="_2-数据存储流程" tabindex="-1"><a class="header-anchor" href="#_2-数据存储流程"><span>2. 数据存储流程</span></a></h3><ol><li>根据 HashID 判断数据是新增还是更新</li><li>批量写入 MySQL 数据库</li><li>将数据写入 Redis 队列</li><li>发送 HTTP 通知到 .NET 8 后端服务</li></ol><h3 id="_3-数据验证流程" tabindex="-1"><a class="header-anchor" href="#_3-数据验证流程"><span>3. 数据验证流程</span></a></h3><ol><li>.NET 8 后端服务消费 Redis 队列数据</li><li>根据数据类型进行 URL 有效性验证</li><li>更新数据状态（有效/无效）</li><li>定时任务验证 URL 有效性</li></ol><h2 id="流程图" tabindex="-1"><a class="header-anchor" href="#流程图"><span>流程图</span></a></h2><p><img src="'+e+'" alt="alt text"></p><div class="language-mermaid line-numbers-mode" data-highlighter="prismjs" data-ext="mermaid"><pre><code><span class="line"><span class="token keyword">graph</span> LR</span>\n<span class="line">    A<span class="token text string">[Cron定时任务]</span> <span class="token arrow operator">--&gt;</span> B<span class="token text string">[开始爬取]</span></span>\n<span class="line">    B <span class="token arrow operator">--&gt;</span> C<span class="token text string">[检查断点记录]</span></span>\n<span class="line">    C <span class="token arrow operator">--&gt;</span> D<span class="token text string">{是否存在断点}</span></span>\n<span class="line">    D <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> E<span class="token text string">[从断点继续爬取]</span></span>\n<span class="line">    D <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> F<span class="token text string">[go_spider爬虫]</span></span>\n<span class="line">    E <span class="token arrow operator">--&gt;</span> G<span class="token text string">[数据提取]</span></span>\n<span class="line">    F <span class="token arrow operator">--&gt;</span> G</span>\n<span class="line">    G <span class="token arrow operator">--&gt;</span> H<span class="token text string">[生成HashID&lt;br/&gt;使用文章标题+URL+数据ID&lt;br/&gt;生成短加密字符串]</span></span>\n<span class="line">    H <span class="token arrow operator">--&gt;</span> I<span class="token text string">{数据判断}</span></span>\n<span class="line">    I <span class="token arrow operator">--&gt;</span><span class="token label property">|新增|</span> J<span class="token text string">[MySQL写入]</span></span>\n<span class="line">    I <span class="token arrow operator">--&gt;</span><span class="token label property">|更新|</span> K<span class="token text string">[MySQL更新]</span></span>\n<span class="line">    J <span class="token arrow operator">--&gt;</span> L<span class="token text string">[Redis写入]</span></span>\n<span class="line">    K <span class="token arrow operator">--&gt;</span> L</span>\n<span class="line">    L <span class="token arrow operator">--&gt;</span> M<span class="token text string">[通知.NET服务]</span></span>\n<span class="line">    M <span class="token arrow operator">--&gt;</span> N<span class="token text string">[消费Redis数据]</span></span>\n<span class="line">    N <span class="token arrow operator">--&gt;</span> O<span class="token text string">[URL验证]</span></span>\n<span class="line">    O <span class="token arrow operator">--&gt;</span> P<span class="token text string">{URL是否有效}</span></span>\n<span class="line">    P <span class="token arrow operator">--&gt;</span><span class="token label property">|有效|</span> Q<span class="token text string">[更新状态]</span></span>\n<span class="line">    P <span class="token arrow operator">--&gt;</span><span class="token label property">|无效|</span> R<span class="token text string">[标记无效]</span></span>\n<span class="line">    Q <span class="token arrow operator">--&gt;</span> S<span class="token text string">[定时验证]</span></span>\n<span class="line">    R <span class="token arrow operator">--&gt;</span> S</span>\n<span class="line">    S <span class="token arrow operator">--&gt;</span> T<span class="token text string">{是否到达验证时间}</span></span>\n<span class="line">    T <span class="token arrow operator">--&gt;</span><span class="token label property">|是|</span> O</span>\n<span class="line">    T <span class="token arrow operator">--&gt;</span><span class="token label property">|否|</span> U<span class="token text string">[等待下次验证]</span></span>\n<span class="line">    U <span class="token arrow operator">--&gt;</span> T</span>\n<span class="line">    G <span class="token arrow operator">--&gt;</span> V<span class="token text string">[保存断点记录]</span></span>\n<span class="line">    V <span class="token arrow operator">--&gt;</span> W<span class="token text string">[定时保存进度]</span></span>\n<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="关键功能说明" tabindex="-1"><a class="header-anchor" href="#关键功能说明"><span>关键功能说明</span></a></h2><h3 id="_1-定时任务" tabindex="-1"><a class="header-anchor" href="#_1-定时任务"><span>1. 定时任务</span></a></h3><ul><li>使用 Cron 表达式配置爬虫执行时间</li><li>支持灵活的任务调度策略</li><li>可配置多个时间点执行</li></ul><h3 id="_2-断点续爬功能" tabindex="-1"><a class="header-anchor" href="#_2-断点续爬功能"><span>2. 断点续爬功能</span></a></h3><ul><li>支持任务中断恢复</li><li>记录爬取进度和位置</li><li>定时保存断点信息</li><li>支持多任务并行爬取</li><li>确保数据爬取的连续性</li></ul><h3 id="_3-hashid-生成" tabindex="-1"><a class="header-anchor" href="#_3-hashid-生成"><span>3. HashID 生成</span></a></h3><ul><li>基于数据ID、URL、文章标题生成唯一标识</li><li>使用加密算法生成短字符串</li><li>用于判断数据是新增还是更新</li><li>保证数据的唯一性和可追踪性</li></ul><h3 id="_4-数据存储" tabindex="-1"><a class="header-anchor" href="#_4-数据存储"><span>4. 数据存储</span></a></h3><ul><li>MySQL：存储完整数据</li><li>Redis：存储待处理数据队列</li></ul><h3 id="_5-url-验证" tabindex="-1"><a class="header-anchor" href="#_5-url-验证"><span>5. URL 验证</span></a></h3><ul><li>实时验证：数据入库时进行验证</li><li>定时验证：每天定时检查 URL 有效性</li></ul><h2 id="部署要求" tabindex="-1"><a class="header-anchor" href="#部署要求"><span>部署要求</span></a></h2><ol><li>Go 环境配置</li><li>.NET 8 运行环境</li><li>MySQL 数据库</li><li>Redis 服务</li></ol><h2 id="鱼鱼助手" tabindex="-1"><a class="header-anchor" href="#鱼鱼助手"><span>鱼鱼助手</span></a></h2>',31))])}]]),r=JSON.parse('{"path":"/other/","title":"demo","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"云盘搜索","slug":"云盘搜索","link":"#云盘搜索","children":[]},{"level":2,"title":"项目概述","slug":"项目概述","link":"#项目概述","children":[]},{"level":2,"title":"技术架构","slug":"技术架构","link":"#技术架构","children":[]},{"level":2,"title":"系统流程","slug":"系统流程","link":"#系统流程","children":[{"level":3,"title":"1. 数据爬取流程","slug":"_1-数据爬取流程","link":"#_1-数据爬取流程","children":[]},{"level":3,"title":"2. 数据存储流程","slug":"_2-数据存储流程","link":"#_2-数据存储流程","children":[]},{"level":3,"title":"3. 数据验证流程","slug":"_3-数据验证流程","link":"#_3-数据验证流程","children":[]}]},{"level":2,"title":"流程图","slug":"流程图","link":"#流程图","children":[]},{"level":2,"title":"关键功能说明","slug":"关键功能说明","link":"#关键功能说明","children":[{"level":3,"title":"1. 定时任务","slug":"_1-定时任务","link":"#_1-定时任务","children":[]},{"level":3,"title":"2. 断点续爬功能","slug":"_2-断点续爬功能","link":"#_2-断点续爬功能","children":[]},{"level":3,"title":"3. HashID 生成","slug":"_3-hashid-生成","link":"#_3-hashid-生成","children":[]},{"level":3,"title":"4. 数据存储","slug":"_4-数据存储","link":"#_4-数据存储","children":[]},{"level":3,"title":"5. URL 验证","slug":"_5-url-验证","link":"#_5-url-验证","children":[]}]},{"level":2,"title":"部署要求","slug":"部署要求","link":"#部署要求","children":[]},{"level":2,"title":"鱼鱼助手","slug":"鱼鱼助手","link":"#鱼鱼助手","children":[]}],"git":{"updatedTime":1748581097000,"contributors":[{"name":"Bo-Hong","username":"Bo-Hong","email":"2764136779@qq.com","commits":9,"url":"https://github.com/Bo-Hong"}],"changelog":[{"hash":"0aa1bd447f8a09fb064b8ad6282a1df10f52dd74","time":1748581097000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"云盘"},{"hash":"c76c78b5a90c2934149ce8947910af8c792f1292","time":1748578517000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"云盘介绍"},{"hash":"1f05cc2ceec2c5576cc12c3c569dafc8691ba86b","time":1748521783000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并"},{"hash":"33b3b24647c686197249bdd8e65d5fc10d91f2b9","time":1748510894000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并路径"},{"hash":"281908f7b47ad5fa12b0ad0bc611c92965783239","time":1748510541000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并问题"},{"hash":"1cdb539d12c34e8ab5dbc935ec8d4b0e45b28139","time":1748510182000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"链接跳转"},{"hash":"bc6c5b47692f28e60b98da4a99e6de41067ece89","time":1748509701000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"合并推送"},{"hash":"d30a92697c5345a0f23b700fea7f3977fc2795ca","time":1748499091000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"咸鱼助手"},{"hash":"af7eb058337ef80436e87191a5bee1505a87c495","time":1748261146000,"email":"2764136779@qq.com","author":"Bo-Hong","message":"鱼鱼助手和权限模型"}]},"filePathRelative":"other/README.md"}')}}]);