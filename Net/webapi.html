<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>.NET WebAPI ç¤ºä¾‹ | VuePress</title><meta name="description" content="æŠ€æœ¯æ–‡æ¡£ä¸­å¿ƒ">
    <link rel="stylesheet" href="/hb/assets/css/styles.8ac69efd.css">
    <link rel="preload" href="/hb/assets/js/runtime~app.c0314043.js" as="script"><link rel="preload" href="/hb/assets/css/styles.8ac69efd.css" as="style"><link rel="preload" href="/hb/assets/js/768.4c07e629.js" as="script"><link rel="preload" href="/hb/assets/js/app.0fad5c14.js" as="script">
    <link rel="prefetch" href="/hb/assets/js/Net_webapi.html.c95e5e35.js" as="script"><link rel="prefetch" href="/hb/assets/js/Rbac_RBAC-XMind-Structure.html.dddbb6ee.js" as="script"><link rel="prefetch" href="/hb/assets/js/Rbac_Combined-Permission-Model.html.26e46e13.js" as="script"><link rel="prefetch" href="/hb/assets/js/Rbac_ABAC.html.3f6ff894.js" as="script"><link rel="prefetch" href="/hb/assets/js/Rbac_index.html.1714fa9d.js" as="script"><link rel="prefetch" href="/hb/assets/js/other_index.html.ecb9b081.js" as="script"><link rel="prefetch" href="/hb/assets/js/Goland_basics.html.61bc6281.js" as="script"><link rel="prefetch" href="/hb/assets/js/Net_basics.html.f2c00f56.js" as="script"><link rel="prefetch" href="/hb/assets/js/Goland_installation.html.71708a9d.js" as="script"><link rel="prefetch" href="/hb/assets/js/other_auto_index.html.f85de32e.js" as="script"><link rel="prefetch" href="/hb/assets/js/Net_installation.html.cdb7bf48.js" as="script"><link rel="prefetch" href="/hb/assets/js/en_index.html.f0dc2252.js" as="script"><link rel="prefetch" href="/hb/assets/js/index.html.663f7d59.js" as="script"><link rel="prefetch" href="/hb/assets/js/Goland_index.html.0f588586.js" as="script"><link rel="prefetch" href="/hb/assets/js/en_Net_index.html.80147b75.js" as="script"><link rel="prefetch" href="/hb/assets/js/Net_index.html.a6bb222a.js" as="script"><link rel="prefetch" href="/hb/assets/js/get-started.html.cc1d6a6f.js" as="script"><link rel="prefetch" href="/hb/assets/js/404.html.5bcd1735.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/hb/"><img class="vp-site-logo" src="https://vuejs.press/images/hero.png" alt="VuePress"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">VuePress</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://gitee.com/Lovely_Rabbit" aria-label="Giteeåœ°å€" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Giteeåœ°å€<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æ–‡æ¡£"><span class="title">æ–‡æ¡£</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æ–‡æ¡£"><span class="title">æ–‡æ¡£</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/hb/Net/" aria-label=".NET æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->.NET æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/Goland/" aria-label="Golang æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->Golang æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/Rbac/" aria-label="RBAC æƒé™è®¾è®¡"><!--[--><!--[--><!--]--><!--]-->RBAC æƒé™è®¾è®¡<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é¡¹ç›®é›†åˆ"><span class="title">é¡¹ç›®é›†åˆ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é¡¹ç›®é›†åˆ"><span class="title">é¡¹ç›®é›†åˆ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/other/auto/" aria-label="é±¼é±¼åŠ©æ‰‹"><!--[--><!--[--><!--]--><!--]-->é±¼é±¼åŠ©æ‰‹<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/hb/Net/webapi.html" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--[--><!--]--><!--]-->ç®€ä½“ä¸­æ–‡<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/en/" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/TuCoke/hb/tree/main" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="auto-link external-link" href="https://gitee.com/Lovely_Rabbit" aria-label="Giteeåœ°å€" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Giteeåœ°å€<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="æ–‡æ¡£"><span class="title">æ–‡æ¡£</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="æ–‡æ¡£"><span class="title">æ–‡æ¡£</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/hb/Net/" aria-label=".NET æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->.NET æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/Goland/" aria-label="Golang æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->Golang æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/Rbac/" aria-label="RBAC æƒé™è®¾è®¡"><!--[--><!--[--><!--]--><!--]-->RBAC æƒé™è®¾è®¡<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="é¡¹ç›®é›†åˆ"><span class="title">é¡¹ç›®é›†åˆ</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="é¡¹ç›®é›†åˆ"><span class="title">é¡¹ç›®é›†åˆ</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/other/auto/" aria-label="é±¼é±¼åŠ©æ‰‹"><!--[--><!--[--><!--]--><!--]-->é±¼é±¼åŠ©æ‰‹<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">é€‰æ‹©è¯­è¨€</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/hb/Net/webapi.html" aria-label="ç®€ä½“ä¸­æ–‡"><!--[--><!--[--><!--]--><!--]-->ç®€ä½“ä¸­æ–‡<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/hb/en/" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/TuCoke/hb/tree/main" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">.NET æ–‡æ¡£ <span class="down arrow"></span></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/hb/Net/" aria-label=".NET æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->.NET æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Net/installation.html" aria-label=".NET å®‰è£…æŒ‡å—"><!--[--><!--[--><!--]--><!--]-->.NET å®‰è£…æŒ‡å—<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Net/basics.html" aria-label=".NET åŸºç¡€çŸ¥è¯†"><!--[--><!--[--><!--]--><!--]-->.NET åŸºç¡€çŸ¥è¯†<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/hb/Net/webapi.html" aria-label=".NET WebAPI ç¤ºä¾‹"><!--[--><!--[--><!--]--><!--]-->.NET WebAPI ç¤ºä¾‹<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">Golang æ–‡æ¡£ <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Goland/" aria-label="Golang æ–‡æ¡£"><!--[--><!--[--><!--]--><!--]-->Golang æ–‡æ¡£<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Goland/installation.html" aria-label="Golang å®‰è£…æŒ‡å—"><!--[--><!--[--><!--]--><!--]-->Golang å®‰è£…æŒ‡å—<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Goland/basics.html" aria-label="Golang åŸºç¡€çŸ¥è¯†"><!--[--><!--[--><!--]--><!--]-->Golang åŸºç¡€çŸ¥è¯†<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">RBAC æƒé™è®¾è®¡ <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Rbac/" aria-label="æ·±å…¥æµ…å‡ºRBACæƒé™è®¾è®¡"><!--[--><!--[--><!--]--><!--]-->æ·±å…¥æµ…å‡ºRBACæƒé™è®¾è®¡<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Rbac/ABAC.html" aria-label="æ·±å…¥æµ…å‡ºABACæƒé™è®¾è®¡"><!--[--><!--[--><!--]--><!--]-->æ·±å…¥æµ…å‡ºABACæƒé™è®¾è®¡<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Rbac/Combined-Permission-Model.html" aria-label="ç»¼åˆæƒé™æ§åˆ¶æ¨¡å‹è®¾è®¡"><!--[--><!--[--><!--]--><!--]-->ç»¼åˆæƒé™æ§åˆ¶æ¨¡å‹è®¾è®¡<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/hb/Rbac/RBAC-XMind-Structure.html" aria-label="RBACæƒé™æ¨¡å‹XMindç»“æ„å›¾"><!--[--><!--[--><!--]--><!--]-->RBACæƒé™æ¨¡å‹XMindç»“æ„å›¾<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">ä½œå“ <span class="right arrow"></span></p><ul style="display:none;" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/hb/other/" aria-label="ğŸ¯ demo é›†åˆ"><!--[--><!--[--><!--]--><!--]-->ğŸ¯ demo é›†åˆ<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="net-webapi-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#net-webapi-ç¤ºä¾‹"><span>.NET WebAPI ç¤ºä¾‹</span></a></h1><p>æœ¬æ–‡æ¡£å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ .NET åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ WebAPI åº”ç”¨ç¨‹åºã€‚</p><h2 id="åˆ›å»º-webapi-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-webapi-é¡¹ç›®"><span>åˆ›å»º WebAPI é¡¹ç›®</span></a></h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„ WebAPI é¡¹ç›®ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">dotnet new webapi <span class="token parameter variable">-n</span> MyFirstWebApi</span>
<span class="line"><span class="token builtin class-name">cd</span> MyFirstWebApi</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é¡¹ç›®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®ç»“æ„"><span>é¡¹ç›®ç»“æ„</span></a></h2><p>åˆ›å»ºé¡¹ç›®åï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹ä¸»è¦æ–‡ä»¶å’Œç›®å½•ï¼š</p><ul><li><code>Program.cs</code> - åº”ç”¨ç¨‹åºå…¥å£ç‚¹å’Œé…ç½®</li><li><code>Controllers/</code> - åŒ…å«APIæ§åˆ¶å™¨</li><li><code>Properties/launchSettings.json</code> - åº”ç”¨ç¨‹åºå¯åŠ¨é…ç½®</li><li><code>appsettings.json</code> - åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶</li><li><code>MyFirstWebApi.csproj</code> - é¡¹ç›®æ–‡ä»¶</li></ul><h2 id="åˆ›å»ºæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ¨¡å‹"><span>åˆ›å»ºæ¨¡å‹</span></a></h2><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„æ¨¡å‹ç±»ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>Models</code> æ–‡ä»¶å¤¹ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª <code>TodoItem.cs</code> æ–‡ä»¶ï¼š</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code><span class="line"><span class="token keyword">namespace</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Models</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TodoItem</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> IsComplete <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆ›å»ºæ•°æ®ä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ•°æ®ä¸Šä¸‹æ–‡"><span>åˆ›å»ºæ•°æ®ä¸Šä¸‹æ–‡</span></a></h2><p>æ¥ä¸‹æ¥ï¼Œæ·»åŠ ä¸€ä¸ªç®€å•çš„æ•°æ®ä¸Šä¸‹æ–‡ç±»æ¥æ¨¡æ‹Ÿæ•°æ®åº“ã€‚åˆ›å»ºä¸€ä¸ª <code>Data</code> æ–‡ä»¶å¤¹ï¼Œå¹¶æ·»åŠ  <code>AppDbContext.cs</code> æ–‡ä»¶ï¼š</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code><span class="line"><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>EntityFrameworkCore</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Models</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">namespace</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Data</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppDbContext</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DbContext</span></span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token function">AppDbContext</span><span class="token punctuation">(</span><span class="token class-name">DbContextOptions<span class="token punctuation">&lt;</span>AppDbContext<span class="token punctuation">&gt;</span></span> options<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token return-type class-name">DbSet<span class="token punctuation">&lt;</span>TodoItem<span class="token punctuation">&gt;</span></span> TodoItems <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token operator">!</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="é…ç½®æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#é…ç½®æœåŠ¡"><span>é…ç½®æœåŠ¡</span></a></h2><p>åœ¨ <code>Program.cs</code> æ–‡ä»¶ä¸­ï¼Œæ·»åŠ  Entity Framework æœåŠ¡å’Œæ•°æ®åº“é…ç½®ï¼š</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code><span class="line"><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>EntityFrameworkCore</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Data</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> builder <span class="token operator">=</span> WebApplication<span class="token punctuation">.</span><span class="token function">CreateBuilder</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ·»åŠ æ§åˆ¶å™¨æœåŠ¡</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddControllers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ·»åŠ  Swagger/OpenAPI æ”¯æŒ</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddEndpointsApiExplorer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddSwaggerGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ·»åŠ æ•°æ®åº“ä¸Šä¸‹æ–‡</span></span>
<span class="line">builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddDbContext</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>AppDbContext<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span>options <span class="token operator">=&gt;</span></span>
<span class="line">    options<span class="token punctuation">.</span><span class="token function">UseInMemoryDatabase</span><span class="token punctuation">(</span><span class="token string">&quot;TodoList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name"><span class="token keyword">var</span></span> app <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">Build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é…ç½® HTTP è¯·æ±‚ç®¡é“</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>Environment<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    app<span class="token punctuation">.</span><span class="token function">UseSwagger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    app<span class="token punctuation">.</span><span class="token function">UseSwaggerUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">UseHttpsRedirection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">UseAuthorization</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">MapControllers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">app<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆ›å»ºæ§åˆ¶å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ§åˆ¶å™¨"><span>åˆ›å»ºæ§åˆ¶å™¨</span></a></h2><p>åœ¨ <code>Controllers</code> æ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»º <code>TodoItemsController.cs</code> æ–‡ä»¶ï¼š</p><div class="language-csharp line-numbers-mode" data-highlighter="prismjs" data-ext="cs"><pre><code><span class="line"><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>AspNetCore<span class="token punctuation">.</span>Mvc</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>EntityFrameworkCore</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Data</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">using</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Models</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">namespace</span> <span class="token namespace">MyFirstWebApi<span class="token punctuation">.</span>Controllers</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Route</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">&quot;api/[controller]&quot;</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ApiController</span></span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TodoItemsController</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ControllerBase</span></span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">AppDbContext</span> _context<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">public</span> <span class="token function">TodoItemsController</span><span class="token punctuation">(</span><span class="token class-name">AppDbContext</span> context<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            _context <span class="token operator">=</span> context<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// GET: api/TodoItems</span></span>
<span class="line">        <span class="token punctuation">[</span>HttpGet<span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ActionResult<span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>TodoItem<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetTodoItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token keyword">await</span> _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">ToListAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// GET: api/TodoItems/5</span></span>
<span class="line">        <span class="token punctuation">[</span><span class="token function">HttpGet</span><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ActionResult<span class="token punctuation">&lt;</span>TodoItem<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetTodoItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name"><span class="token keyword">var</span></span> todoItem <span class="token operator">=</span> <span class="token keyword">await</span> _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">FindAsync</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>todoItem <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> <span class="token function">NotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> todoItem<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// POST: api/TodoItems</span></span>
<span class="line">        <span class="token punctuation">[</span>HttpPost<span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>ActionResult<span class="token punctuation">&lt;</span>TodoItem<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">PostTodoItem</span><span class="token punctuation">(</span><span class="token class-name">TodoItem</span> todoItem<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>todoItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">await</span> _context<span class="token punctuation">.</span><span class="token function">SaveChangesAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> <span class="token function">CreatedAtAction</span><span class="token punctuation">(</span><span class="token keyword">nameof</span><span class="token punctuation">(</span>GetTodoItem<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token punctuation">{</span> id <span class="token operator">=</span> todoItem<span class="token punctuation">.</span>Id <span class="token punctuation">}</span><span class="token punctuation">,</span> todoItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// PUT: api/TodoItems/5</span></span>
<span class="line">        <span class="token punctuation">[</span><span class="token function">HttpPut</span><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>IActionResult<span class="token punctuation">&gt;</span></span> <span class="token function">PutTodoItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">,</span> <span class="token class-name">TodoItem</span> todoItem<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">!=</span> todoItem<span class="token punctuation">.</span>Id<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> <span class="token function">BadRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            _context<span class="token punctuation">.</span><span class="token function">Entry</span><span class="token punctuation">(</span>todoItem<span class="token punctuation">)</span><span class="token punctuation">.</span>State <span class="token operator">=</span> EntityState<span class="token punctuation">.</span>Modified<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">try</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">await</span> _context<span class="token punctuation">.</span><span class="token function">SaveChangesAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">DbUpdateConcurrencyException</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">TodoItemExists</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">return</span> <span class="token function">NotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token keyword">else</span></span>
<span class="line">                <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">throw</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> <span class="token function">NoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// DELETE: api/TodoItems/5</span></span>
<span class="line">        <span class="token punctuation">[</span><span class="token function">HttpDelete</span><span class="token punctuation">(</span><span class="token string">&quot;{id}&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>IActionResult<span class="token punctuation">&gt;</span></span> <span class="token function">DeleteTodoItem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name"><span class="token keyword">var</span></span> todoItem <span class="token operator">=</span> <span class="token keyword">await</span> _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">FindAsync</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span> <span class="token punctuation">(</span>todoItem <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> <span class="token function">NotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>todoItem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">await</span> _context<span class="token punctuation">.</span><span class="token function">SaveChangesAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">return</span> <span class="token function">NoContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">TodoItemExists</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> _context<span class="token punctuation">.</span>TodoItems<span class="token punctuation">.</span><span class="token function">Any</span><span class="token punctuation">(</span>e <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>Id <span class="token operator">==</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å®‰è£…å¿…è¦çš„åŒ…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…å¿…è¦çš„åŒ…"><span>å®‰è£…å¿…è¦çš„åŒ…</span></a></h2><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€éœ€çš„ NuGet åŒ…ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">dotnet <span class="token function">add</span> package Microsoft.EntityFrameworkCore.InMemory</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="è¿è¡Œåº”ç”¨ç¨‹åº" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œåº”ç”¨ç¨‹åº"><span>è¿è¡Œåº”ç”¨ç¨‹åº</span></a></h2><p>ç°åœ¨å¯ä»¥è¿è¡Œ WebAPI åº”ç”¨ç¨‹åºï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">dotnet run</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºå°†åœ¨ <code>https://localhost:7xxx</code> å’Œ <code>http://localhost:5xxx</code> ä¸Šè¿è¡Œï¼ˆç«¯å£å·å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒï¼‰ã€‚</p><h2 id="ä½¿ç”¨-swagger-æµ‹è¯•-api" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-swagger-æµ‹è¯•-api"><span>ä½¿ç”¨ Swagger æµ‹è¯• API</span></a></h2><p>é€šè¿‡æµè§ˆå™¨è®¿é—® <code>https://localhost:7xxx/swagger</code> æ¥æ‰“å¼€ Swagger UI ç•Œé¢ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æµ‹è¯• API çš„æ‰€æœ‰ç«¯ç‚¹ã€‚</p><h2 id="api-æµ‹è¯•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#api-æµ‹è¯•ç¤ºä¾‹"><span>API æµ‹è¯•ç¤ºä¾‹</span></a></h2><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨ curl æµ‹è¯• API çš„ä¸€äº›ç¤ºä¾‹ï¼š</p><h3 id="åˆ›å»ºä¸€ä¸ªæ–°çš„å¾…åŠäº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªæ–°çš„å¾…åŠäº‹é¡¹"><span>åˆ›å»ºä¸€ä¸ªæ–°çš„å¾…åŠäº‹é¡¹</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>title<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>å®Œæˆ WebAPI æ•™ç¨‹<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>isComplete<span class="token entity" title="\&quot;">\&quot;</span>:false}&quot;</span> https://localhost:7xxx/api/TodoItems</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹"><span>è·å–æ‰€æœ‰å¾…åŠäº‹é¡¹</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://localhost:7xxx/api/TodoItems</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="è·å–ç‰¹å®šå¾…åŠäº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#è·å–ç‰¹å®šå¾…åŠäº‹é¡¹"><span>è·å–ç‰¹å®šå¾…åŠäº‹é¡¹</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://localhost:7xxx/api/TodoItems/1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="æ›´æ–°å¾…åŠäº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°å¾…åŠäº‹é¡¹"><span>æ›´æ–°å¾…åŠäº‹é¡¹</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> PUT <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;{<span class="token entity" title="\&quot;">\&quot;</span>id<span class="token entity" title="\&quot;">\&quot;</span>:1,<span class="token entity" title="\&quot;">\&quot;</span>title<span class="token entity" title="\&quot;">\&quot;</span>:<span class="token entity" title="\&quot;">\&quot;</span>å®Œæˆ WebAPI æ•™ç¨‹<span class="token entity" title="\&quot;">\&quot;</span>,<span class="token entity" title="\&quot;">\&quot;</span>isComplete<span class="token entity" title="\&quot;">\&quot;</span>:true}&quot;</span> https://localhost:7xxx/api/TodoItems/1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="åˆ é™¤å¾…åŠäº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤å¾…åŠäº‹é¡¹"><span>åˆ é™¤å¾…åŠäº‹é¡¹</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-X</span> DELETE https://localhost:7xxx/api/TodoItems/1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h2><p>åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®Œæ•´çš„ .NET WebAPI åº”ç”¨ç¨‹åºï¼Œå®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li>åˆ›å»ºåŸºæœ¬çš„ WebAPI é¡¹ç›®ç»“æ„</li><li>å®šä¹‰æ•°æ®æ¨¡å‹</li><li>é…ç½® Entity Framework å’Œå†…å­˜æ•°æ®åº“</li><li>å®ç° CRUD æ“ä½œçš„ API æ§åˆ¶å™¨</li><li>ä½¿ç”¨ Swagger è¿›è¡Œ API æ–‡æ¡£å’Œæµ‹è¯•</li></ol><p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ .NET å¿«é€Ÿåˆ›å»ºåŠŸèƒ½é½å…¨çš„ RESTful APIã€‚</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/TuCoke/hb/tree/main/edit/main/docs/Net/webapi.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><time class="meta-item-info" datetime="2025-05-25T12:42:40.000Z" data-allow-mismatch>2025/5/25 12:42</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 2764136779@qq.com">Bo-Hong</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/hb/Net/basics.html" aria-label=".NET åŸºç¡€çŸ¥è¯†"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">.NET åŸºç¡€çŸ¥è¯†</span></div><!--]--></a><!----></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script src="/hb/assets/js/runtime~app.c0314043.js" defer></script><script src="/hb/assets/js/768.4c07e629.js" defer></script><script src="/hb/assets/js/app.0fad5c14.js" defer></script>
  </body>
</html>
